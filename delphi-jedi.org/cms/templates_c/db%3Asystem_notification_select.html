<?php /* Smarty version 2.5.0, created on 2004-03-16 16:58:10
         compiled from db:system_notification_select.html */ ?>
<?php $this->_load_plugins(array(
array('function', 'counter', 'db:system_notification_select.html', 19, false),)); ?><?php if ($this->_tpl_vars['xoops_notification']['show']): ?>
<form name="notification_select" action="<?php echo $this->_tpl_vars['xoops_notification']['target_page']; ?>
" method="post">
<h4 style="text-align:center;"><?php echo $this->_tpl_vars['lang_activenotifications']; ?>
</h4>
<input type="hidden" name="not_redirect" value="<?php echo $this->_tpl_vars['xoops_notification']['redirect_script']; ?>
" />
<table class="outer">
  <tr><th colspan="3"><?php echo $this->_tpl_vars['lang_notificationoptions']; ?>
</th></tr>
  <tr>
    <td class="head"><?php echo $this->_tpl_vars['lang_category']; ?>
</td>
    <td class="head"><input name="allbox" id="allbox" onclick="xoopsCheckAll('notification_select','allbox');" type="checkbox" value="<?php echo $this->_tpl_vars['lang_checkall']; ?>
" /></td>
    <td class="head"><?php echo $this->_tpl_vars['lang_events']; ?>
</td>
  </tr>
  <?php if (isset($this->_foreach['outer'])) unset($this->_foreach['outer']);
$this->_foreach['outer']['name'] = 'outer';
$this->_foreach['outer']['total'] = count((array)$this->_tpl_vars['xoops_notification']['categories']);
$this->_foreach['outer']['show'] = $this->_foreach['outer']['total'] > 0;
if ($this->_foreach['outer']['show']):
$this->_foreach['outer']['iteration'] = 0;
    foreach ((array)$this->_tpl_vars['xoops_notification']['categories'] as $this->_tpl_vars['category']):
        $this->_foreach['outer']['iteration']++;
        $this->_foreach['outer']['first'] = ($this->_foreach['outer']['iteration'] == 1);
        $this->_foreach['outer']['last']  = ($this->_foreach['outer']['iteration'] == $this->_foreach['outer']['total']);
?>
  <?php if (isset($this->_foreach['inner'])) unset($this->_foreach['inner']);
$this->_foreach['inner']['name'] = 'inner';
$this->_foreach['inner']['total'] = count((array)$this->_tpl_vars['category']['events']);
$this->_foreach['inner']['show'] = $this->_foreach['inner']['total'] > 0;
if ($this->_foreach['inner']['show']):
$this->_foreach['inner']['iteration'] = 0;
    foreach ((array)$this->_tpl_vars['category']['events'] as $this->_tpl_vars['event']):
        $this->_foreach['inner']['iteration']++;
        $this->_foreach['inner']['first'] = ($this->_foreach['inner']['iteration'] == 1);
        $this->_foreach['inner']['last']  = ($this->_foreach['inner']['iteration'] == $this->_foreach['inner']['total']);
?>
  <tr>
    <?php if ($this->_foreach['inner']['first']): ?>
    <td class="even" rowspan="<?php echo $this->_foreach['inner']['total']; ?>
"><?php echo $this->_tpl_vars['category']['title']; ?>
</td>
    <?php endif; ?>
    <td class="odd">
    <?php echo $this->_plugins['function']['counter'][0](array('assign' => 'index'), $this) ; ?>

    <input type="hidden" name="not_list[<?php echo $this->_tpl_vars['index']; ?>
][params]" value="<?php echo $this->_tpl_vars['category']['name']; ?>
,<?php echo $this->_tpl_vars['category']['itemid']; ?>
,<?php echo $this->_tpl_vars['event']['name']; ?>
" />
    <input type="checkbox" id="not_list[]" name="not_list[<?php echo $this->_tpl_vars['index']; ?>
][status]" value="1" <?php if ($this->_tpl_vars['event']['subscribed']): ?>checked="checked"<?php endif; ?> />
    </td>
    <td class="odd"><?php echo $this->_tpl_vars['event']['caption']; ?>
</td>
  </tr>
  <?php endforeach; endif; ?>
  <?php endforeach; endif; ?>
  <tr>
    <td class="foot" colspan="3" align="center"><input type="submit" name="not_submit" value="<?php echo $this->_tpl_vars['lang_updatenow']; ?>
" /></td>
  </tr>
</table>
<div align="center">
<?php echo $this->_tpl_vars['lang_notificationmethodis']; ?>
:&nbsp;<?php echo $this->_tpl_vars['user_method']; ?>
&nbsp;&nbsp;[<a href="<?php echo $this->_tpl_vars['editprofile_url']; ?>
"><?php echo $this->_tpl_vars['lang_change']; ?>
</a>]
</div>
</form>
<?php endif; ?>